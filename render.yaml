# Render 部署設定
# 詳細文件：https://render.com/docs/yaml-spec

services:
  - type: web
    name: dht-sensor-monitor
    runtime: python
    region: singapore  # 選擇離台灣近的區域
    plan: free
    branch: main
    rootDir: python
    buildCommand: pip install -r requirements.txt
    startCommand: python render_start.py --web-only
    envVars:
      - key: PYTHON_VERSION
        value: 3.11.0
      - key: WEB_HOST
        value: 0.0.0.0
      - key: SIMULATE_MODE
        value: true
      - key: SERIAL_PORT
        value: SIMULATE
      - key: DISCORD_BOT_TOKEN
        sync: false  # 手動設定（選填）
      - key: DISCORD_WEBHOOK_URL
        sync: false  # 手動設定（選填）
      - key: CLOUD_API_KEY
        sync: false  # 手動設定 (必填，用於接收本地數據)
    healthCheckPath: /api/status
    autoDeploy: true
